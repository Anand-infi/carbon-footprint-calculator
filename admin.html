<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="style.css"> 
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script>
        // PASTE YOUR firebaseConfig OBJECT AND INITIALIZATION HERE
        const firebaseConfig = {
              apiKey: "AIzaSyDaI-KZ5T7LojE6hW2uOMLScv7tjwf0e-E",
              authDomain: "carbon-footprint-calcula-754c6.firebaseapp.com",
              projectId: "carbon-footprint-calcula-754c6",
              storageBucket: "carbon-footprint-calcula-754c6.firebasestorage.app",
              messagingSenderId: "784761586964",
              appId: "1:784761586964:web:d4a0d06a5e9b7f06666e01"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
    </script>
</head>
<body>
    <div class="container">
        <h1>Admin Dashboard</h1>
        <button id="logout-btn">Logout</button>
        
        <div class="tab-container">
            <div class="tab-container">
                <button class="tab-link active" onclick="openTab(event, 'Factors')">Emission Factors</button>
                <button class="tab-link" onclick="openTab(event, 'Modules')">Reporting Modules</button> 
                <button class="tab-link" onclick="openTab(event, 'Clients')">Client Management</button>
                <button class="tab-link" onclick="openTab(event, 'Submissions')">Audit & Reports</button>
            </div>
        </div>

        <div id="Factors" class="tab-content active-content">
            <h2>1. Manage Emission Factors</h2>
            <form id="add-factor-form">
                <input type="text" id="factor-name" placeholder="Factor Name (e.g., Grid Electricity kWh)" required>
                <input type="text" id="factor-scope" placeholder="Scope (1, 2, or 3)" required>
                <input type="number" id="factor-value" placeholder="Factor Value (kg CO2e/unit)" step="0.001" required>
                <input type="text" id="factor-unit" placeholder="Unit (e.g., kWh)" required>
                <button type="submit">Add Factor</button>
            </form>
            <h3>Existing Factors:</h3>
            <ul id="factors-list">
                </ul>
        </div>
        
        <div id="Modules" class="tab-content">
            <h2>2. Define Reporting Modules</h2>
            <form id="add-module-form">
                <input type="text" id="module-id" placeholder="Module Name (e.g., Basic S1S2)" required>
                <h3>Select Factors for this Module:</h3>
                <div id="module-factors-list">
                    <p>Load factors first...</p>
                </div>
                <button type="submit">Save Module</button>
            </form>
            <hr>
            <h3>Existing Modules:</h3>
            <ul id="modules-list">
                </ul>
        </div>
     <div id="Submissions" class="tab-content">
            <h2>4. Audit & Verify Submissions</h2>
            <ul id="submission-notification-list">
                </ul>
        
            <hr>
            <h3>Submission Details (for Auditing):</h3>
            <div id="audit-details-area">
                <p>Select a submission above to view details.</p>
            </div>
        </div>
             
        <div id="Clients" class="tab-content">
            <h2>3. Manage Clients & Modules</h2>
            <p>This is where you will register new clients and assign them a specific data input module.</p>
            <h2>2. Manage Clients & Modules</h2>
            <form id="add-client-form">
                <h3>Add New Client Organization</h3>
                <input type="text" id="client-name" placeholder="Organization Name" required>
                <input type="email" id="client-email" placeholder="Client User Email (for login)" required>
                <input type="password" id="client-password" placeholder="Temporary Password" required>
                
                <label for="module-selector">Assign Reporting Module:</label>
                <select id="module-selector" required>
                    <option value="Basic_S1_S2">Basic Reporting (Scope 1 & 2)</option>
                    <option value="Full_All_Scopes">Full Reporting (All Scopes)</option>
                </select>
                
                <button type="submit">Create Client User</button>
                <p id="client-message" class="error"></p>
            </form>

            <hr>
            <h3>Existing Clients:</h3>
            <ul id="clients-list">
                </ul>
            </div>

        <p id="admin-message" class="error"></p>
    </div>
        


    <script src="admin.js"></script>
</body>
</html>
